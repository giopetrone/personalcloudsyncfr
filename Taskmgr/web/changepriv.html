<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<title>
Change priviligies of users
</title>

<!-- Meta Tags -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Wufoo.com" />

<!-- CSS -->
<link rel="stylesheet" href="./css/structure.css" type="text/css" />
<link rel="stylesheet" href="./css/form.css" type="text/css" />
<link type="text/css" rel="stylesheet" href="./css/dhtmlgoodies_calendar.css?random=20051112" media="screen"></link>
<!-- JavaScript -->
<script type="text/javascript" src="./scripts/wufoo.js"></script>

<script type="text/javascript" src="./js/dhtmlgoodies_calendar.js?random=20060118"></script>
<script type="text/javascript">
/*
 * Retrieve all contacts
 */
var users = new Array();

function privilege()
{
    var user = parent.document.getElementById("owner").value;
    var readers = parent.document.getElementById("users").value
    var writers = parent.document.getElementById("writers").value;
    var own = TextEdit.target.parentNode.parentNode.parentNode.owner;

}



 function append()
      {
        
        var users = opener.document.getElementById('writers').value;

        var array = users.split(",");
        var size = array.length;


        var add = document.getElementById("append");




            for(var i=0;i<size;i++)
            {
                 var cb = document.createElement( "input" );
                 var value = array[i];
                 if(value != "")
                 {
                     cb.type = "checkbox";
                     cb.id = value;
                     cb.value = value;
                     cb.checked = false;
                     cb.name = "checkgroup";
                     var text = document.createTextNode( value);
                     var br = document.createElement("br");

                     add.appendChild(cb);
                     add.appendChild(text);
                     add.appendChild(br);
                 }

            }

      }


      function check()
      {
          var checked = new Array();
          var y = 0;

          var z = document.myform.checkgroup;
       
          if(z == null) return;
          else if(z == "[object HTMLInputElement]")
          {
              checked[y] = z.value;
              y++;
          }
          else
          {

              for (i=0; i<document.myform.checkgroup.length; i++){

                if (document.myform.checkgroup[i].checked==true){
                   checked[y] = document.myform.checkgroup[i].value;
                   y++;
                }
            }

          }
          var emailRecipientsString = '';
          for (var i = 0; i < checked.length; i++) {
            var recipient = checked[i];
            emailRecipientsString += recipient + ',';
          }
          //emailRecipientsString = emailRecipientsString.substring(0, emailRecipientsString.length - 2);
          opener.document.getElementById('users').value = emailRecipientsString;
          self.close();
          return false;


      }




</script>
</head>

<body id="public" onload="append();">
<div id="container">



<form name='myform'>


	<h2>Chenga privileges of users</h2>

        <h4>These users will be able just to view the diagram</h4>

<ul>



<li>
    <div id="append" name="append"></div>

</li>




	<li class="buttons ">
		<div>

                    <input type="button" name="ok" value="Ok"    id="ok"  onclick="check();self.close();"/>
	<input type="button" name="reset" value="Cancella" onclick="self.close();"/>

				</div>
	</li>


</ul>
</form>

</div><!--container-->

</body>
</html>